# nginx-lens

**nginx-lens** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π Nginx.

## –ó–∞—á–µ–º –Ω—É–∂–µ–Ω nginx-lens?

- –ë—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∏ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –≤–∞—à–∏—Ö nginx-–∫–æ–Ω—Ñ–∏–≥–∞—Ö.
- –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –º–∞—Ä—à—Ä—É—Ç—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚Äî –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –≤–∞—à nginx.
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–æ–π location/server –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π URL.
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ª–æ–≥–∏ –∏ –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–∏—Ç—å –∞–Ω–æ–º–∞–ª–∏–∏.
- –£–ø—Ä–æ—â–∞–µ—Ç –∞—É–¥–∏—Ç, –º–∏–≥—Ä–∞—Ü–∏—é –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–ª–æ–∂–Ω—ã—Ö –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä.

## –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —É—Ç–∏–ª–∏—Ç—ã
```bash
nginx-lens --help
```

![nginx-lens --help](docs/main-help.jpeg)

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–ª—è –∫–æ–º–∞–Ω–¥
```bash
nginx-lens <–∫–æ–º–∞–Ω–¥–∞> --help
```

![nginx-lens <–∫–æ–º–∞–Ω–¥–∞> --help](docs/command-help.jpeg)

### –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å upstream-—Å–µ—Ä–≤–µ—Ä–æ–≤
```bash
nginx-lens health <–ø—É—Ç—å_–∫_–∫–æ–Ω—Ñ–∏–≥—É>
```

![nginx-lens health <–ø—É—Ç—å_–∫_–∫–æ–Ω—Ñ–∏–≥—É>](docs/example-health.jpeg)

### –î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–Ω—Ñ–∏–≥–∞
```bash
nginx-lens tree <–ø—É—Ç—å_–∫_–∫–æ–Ω—Ñ–∏–≥—É>
```

![nginx-lens tree <–ø—É—Ç—å_–∫_–∫–æ–Ω—Ñ–∏–≥—É>](docs/example-tree.jpeg)

### –î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è include'–æ–≤
```bash
nginx-lens include-tree <–ø—É—Ç—å_–∫_–∫–æ–Ω—Ñ–∏–≥—É>
```

![nginx-lens include-tree <–ø—É—Ç—å_–∫_–∫–æ–Ω—Ñ–∏–≥—É>](docs/example-include-tree.jpeg)

### –£–¥–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ª–æ–≥–æ–≤
```bash
nginx-lens logs <–ø—É—Ç—å_–∫_—Ñ–∞–π–ª—É_–ª–æ–≥–∞>
```

![nginx-lens logs <–ø—É—Ç—å_–∫_—Ñ–∞–π–ª—É_–ª–æ–≥–∞>](docs/example-logs.jpeg)

### –ê—É–¥–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
nginx-lens analyze <–ø—É—Ç—å_–∫_–∫–æ–Ω—Ñ–∏–≥—É>
```

![nginx-lens analyze <–ø—É—Ç—å_–∫_–∫–æ–Ω—Ñ–∏–≥—É>](docs/example-analyze.jpeg)

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
```bash
nginx-lens graph <–ø—É—Ç—å_–∫_–∫–æ–Ω—Ñ–∏–≥—É>
```

![nginx-lens graph <–ø—É—Ç—å_–∫_–∫–æ–Ω—Ñ–∏–≥—É>](docs/example-graph.jpeg)

### –ü–æ–∏—Å–∫ –º–∞—Ä—à—Ä—É—Ç–∞ –¥–ª—è URL
```bash
nginx-lens route <URL>
```

![nginx-lens route <URL>](docs/example-route.png)

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤
```bash
nginx-lens diff <–ø—É—Ç—å_–∫_–ø–µ—Ä–≤–æ–º—É_–∫–æ–Ω—Ñ–∏–≥—É> <–ø—É—Ç—å_–∫_–≤—Ç–æ—Ä–æ–º—É_–∫–æ–Ω—Ñ–∏–≥—É>
```

![nginx-lens diff <–ø—É—Ç—å_–∫_–ø–µ—Ä–≤–æ–º—É_–∫–æ–Ω—Ñ–∏–≥—É> <–ø—É—Ç—å_–∫_–≤—Ç–æ—Ä–æ–º—É_–∫–æ–Ω—Ñ–∏–≥—É>](docs/example-diff.jpeg)

### –£–¥–æ–±–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∫–æ–Ω—Ñ–∏–≥–∞
```bash
nginx-lens syntax
```

![nginx-lens syntax](docs/example-syntax.jpeg)


## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

üìñ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –∫–æ–º–∞–Ω–¥–∞–º:** [docs/CONFIGURATION.md](docs/CONFIGURATION.md)

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç:
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ –∏ –∏—Ö –æ–ø—Ü–∏–π
- –¢–∏–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- Exit codes –¥–ª—è CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python 3.8+**
- Linux/macOS (—Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø–æ–¥ Windows WSL)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –ø–æ–º–æ—â—å—é bash-—Å–∫—Ä–∏–ø—Ç–∞ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
wget https://raw.githubusercontent.com/shelovesuastra/nginx-lens/refs/heads/main/install-nginx-lens.sh
# –∏–ª–∏
curl https://raw.githubusercontent.com/shelovesuastra/nginx-lens/refs/heads/main/install-nginx-lens.sh

chmod +x install-nginx-lens.sh

./install-nginx-lens.sh
# –∏–ª–∏
sh ./install-nginx-lens.sh
# –∏–ª–∏
bash ./install-nginx-lens.sh
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ PyPI

```bash
pipx install nginx-lens
```
–∏–ª–∏
```bash
pip install nginx-lens
```

## –ê–≤—Ç–æ—Ä

[Daniil Astrouski](https://github.com/shelovesuastra)

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
